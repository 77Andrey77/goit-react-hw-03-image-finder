{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","servises/apiService.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","components/App/App.js","reportWebVitals.js","index.js","components/Modal/Modal.module.css"],"names":["module","exports","Searchbar","state","searchName","handleNameChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","alert","className","this","type","name","onChange","placeholder","Component","apiService","fetchImagesWithQuery","nextName","page","fetch","then","response","ok","json","Promise","reject","Error","ImageGalleryItem","id","webformatURL","tags","largeImageURL","onOpenModal","s","onClick","src","alt","data-source","ImageGalleryItemImage","Button","ImageGallery","images","handleLoadeMore","map","image","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","App","loading","showModal","fetchImages","hits","catch","error","console","log","finally","handleFormSubmit","dataset","source","toggleModal","prevProps","prevState","scrollTo","top","documentElement","scrollHeight","behavior","color","height","width","timeout","style","textAlign","length","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7a9f7d80.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__YFtx_\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__34zD7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3d69f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2tpmi\"};","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport '../Searchbar/Searchbar.css';\r\n\r\nexport default class Searchbar extends Component {\r\n  // static propTypes = {\r\n  //   onSubmit: PropTypes.func.isRequired,\r\n  // };\r\n\r\n  state = {\r\n    searchName: '',\r\n  };\r\n\r\n  handleNameChange = event => {\r\n    this.setState({ searchName: event.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    if (this.state.searchName.trim() === '') {\r\n      alert('Введите название искомого объекта');\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state.searchName);\r\n    this.setState({ searchName: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form onSubmit={this.handleSubmit} className=\"SearchForm\">\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            name=\"searchName\"\r\n            value={this.state.searchName}\r\n            onChange={this.handleNameChange}\r\n            type=\"text\"\r\n            // autocomplete=\"off\"\r\n            // autofocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n","function fetchImagesWithQuery(nextName, page) {\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${nextName}&page=${page}&key=19032313-4dd4b1c57c2e902bf9f549139&image_type=photo&orientation=horizontal&per_page=12`,\r\n  ).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    return Promise.reject(new Error('Something is wrong, please try again'));\r\n  });\r\n}\r\nconst apiService = { fetchImagesWithQuery };\r\nexport default apiService;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from '../ImageGalleryItem/ImageGalleryItem.module.css';\r\n\r\nexport default class ImageGalleryItem extends Component {\r\n  render() {\r\n    const { id, webformatURL, tags, largeImageURL, onOpenModal } = this.props;\r\n\r\n    return (\r\n      <li className={s.ImageGalleryItem} key={id}>\r\n        <img\r\n          onClick={onOpenModal}\r\n          src={webformatURL}\r\n          alt={tags}\r\n          data-source={largeImageURL}\r\n          className={s.ImageGalleryItemImage}\r\n        />\r\n      </li>\r\n    );\r\n  }\r\n}\r\nImageGalleryItem.propTypes = {\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n  webformatURL: PropTypes.string.isRequired,\r\n  onOpenModal: PropTypes.func.isRequired,\r\n};\r\n","import s from '../Button/Button.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction Button({ onClick }) {\r\n  return (\r\n    <button onClick={onClick} className={s.Button}>\r\n      Loade more\r\n    </button>\r\n  );\r\n}\r\nexport default Button;\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n};\r\n","import { Component } from 'react';\r\nimport s from '../ImageGallery/ImageGallery.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\n// import apiService from '../../services/apiService';\r\nimport Button from '../Button/Button';\r\n\r\nexport default class ImageGallery extends Component {\r\n  render() {\r\n    const { images, handleLoadeMore, onOpenModal } = this.props;\r\n    return (\r\n      <>\r\n        <ul className={s.ImageGallery}>\r\n          {images.map(image => (\r\n            <ImageGalleryItem\r\n              key={image.id}\r\n              webformatURL={image.webformatURL}\r\n              tags={image.tags}\r\n              largeImageURL={image.largeImageURL}\r\n              onOpenModal={onOpenModal}\r\n            />\r\n          ))}\r\n        </ul>\r\n        <Button onClick={handleLoadeMore} />\r\n      </>\r\n    );\r\n  }\r\n}\r\nImageGallery.propTypes = {\r\n  images: PropTypes.array.isRequired,\r\n  handleLoadeMore: PropTypes.func.isRequired,\r\n  onOpenModal: PropTypes.func.isRequired,\r\n};\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport s from '../Modal/Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  // static propTypes = {\r\n  //   onClose: PropTypes.func.isRequired,\r\n  // };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { largeImageURL } = this.props;\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={s.Modal}>\r\n          <img src={largeImageURL} alt=\"\" className={s.ImageGalleryItemImage} />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n","import React, { Component } from 'react';\nimport './App.css';\nimport Searchbar from '../Searchbar/Searchbar';\nimport apiService from '../../servises/apiService';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Modal from '../Modal/Modal';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Loader from 'react-loader-spinner';\n// import Button from '../Button/Button';\n\nexport default class App extends Component {\n  state = {\n    searchName: '',\n    images: [],\n    page: 1,\n    loading: false,\n    showModal: false,\n    largeImageURL: '',\n  };\n\n  /////////////////////// проверяем изменение запроса\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevName = prevState.searchName;\n    const nextName = this.state.searchName;\n\n    if (prevName !== nextName) {\n      console.log('изменился запрос');\n      this.setState({ loading: true });\n\n      this.fetchImages();\n    }\n\n    if (prevState.page !== this.state.page) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  ///////////////////////////////////Api\n\n  fetchImages = () => {\n    apiService\n      .fetchImagesWithQuery(this.state.searchName, this.state.page)\n      .then(response =>\n        this.setState(({ images, page }) => ({\n          images: [...images, ...response.hits],\n          page: page + 1,\n        })),\n      )\n      .catch(error => console.log(error))\n      .finally(() => this.setState({ loading: false }));\n  };\n  //////////////////////////////////////////\n  // toggleLoader = () => {\n  //   this.setState(({ loading }) => ({ loading: !loading }));\n  // };\n\n  /////////////////////////записывает из формы значение иcкомого в state\n  handleFormSubmit = searchName => {\n    this.setState({ searchName: searchName, page: 1, images: [] });\n  };\n  ////////////////////////// loade more\n  handleLoadeMore = onClick => {\n    this.fetchImages();\n  };\n\n  ////////////////////////////////запись значения largeImageURL и открытие модалки\n  onOpenModal = e => {\n    this.setState({ largeImageURL: e.target.dataset.source });\n    this.toggleModal();\n  };\n\n  ///////////////////////////////change modal\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  /////////////////////////////////////////////\n\n  render() {\n    const { images, showModal, largeImageURL, loading } = this.state;\n    return (\n      <div>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        {loading && (\n          <Loader\n            type=\"Puff\"\n            color=\"#00BFFF\"\n            height={100}\n            width={100}\n            timeout={3000}\n            style={{ textAlign: 'center' }}\n          />\n        )}\n        {images.length > 0 && (\n          <ImageGallery\n            images={images}\n            handleLoadeMore={this.handleLoadeMore}\n            onOpenModal={this.onOpenModal}\n          />\n        )}\n\n        {showModal && (\n          <Modal onClose={this.toggleModal} largeImageURL={largeImageURL} />\n        )}\n      </div>\n    );\n  }\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from '../src/components/App/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__26ZPx\",\"Modal\":\"Modal_Modal__1jw-k\",\"ImageGalleryItemImage\":\"Modal_ImageGalleryItemImage__1d-gL\"};"],"sourceRoot":""}